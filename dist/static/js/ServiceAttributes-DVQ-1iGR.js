import{_ as Q,r as q,$ as M,g as N,H as S,a as p,c as R,o as E,b as e,w as a,e as _,t as P}from"./index-DgigFOm-.js";const T={class:"service-attributes"},x={style:{"margin-left":"8px"}},k={__name:"ServiceAttributes",props:{nodeData:{type:Object,required:!0}},emits:["update"],setup(g,{emit:y}){const r=g,V=y,D=q(null),t=M({serviceCode:r.nodeData.nodeCode||"",serviceName:r.nodeData.nodeName||"",serviceType:r.nodeData.serviceType||"installation",billingMethod:r.nodeData.billingMethod||"onetime",serviceDuration:r.nodeData.serviceDuration||1,durationUnit:r.nodeData.durationUnit||"year",servicePrice:r.nodeData.servicePrice||0,isRequired:r.nodeData.isRequired||"0",defaultQuantity:r.nodeData.defaultQuantity||1,isQuantityEditable:r.nodeData.isQuantityEditable||"0",serviceScope:r.nodeData.serviceScope||"",description:r.nodeData.description||""}),C={serviceCode:[{required:!0,message:"请输入服务编码",trigger:"blur"}],serviceName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],serviceType:[{required:!0,message:"请选择服务类型",trigger:"change"}],billingMethod:[{required:!0,message:"请选择计费方式",trigger:"change"}],servicePrice:[{required:!0,message:"请输入服务价格",trigger:"blur"}]},U=N(()=>({hour:"小时",day:"天",month:"月",year:"年"})[t.durationUnit]||""),u=()=>{V("update",{nodeCode:t.serviceCode,nodeName:t.serviceName,serviceType:t.serviceType,billingMethod:t.billingMethod,serviceDuration:t.serviceDuration,durationUnit:t.durationUnit,servicePrice:t.servicePrice,isRequired:t.isRequired,defaultQuantity:t.defaultQuantity,isQuantityEditable:t.isQuantityEditable,serviceScope:t.serviceScope,description:t.description})};return S(()=>r.nodeData,n=>{Object.assign(t,{serviceCode:n.nodeCode||"",serviceName:n.nodeName||"",serviceType:n.serviceType||"installation",billingMethod:n.billingMethod||"onetime",serviceDuration:n.serviceDuration||1,durationUnit:n.durationUnit||"year",servicePrice:n.servicePrice||0,isRequired:n.isRequired||"0",defaultQuantity:n.defaultQuantity||1,isQuantityEditable:n.isQuantityEditable||"0",serviceScope:n.serviceScope||"",description:n.description||""})},{deep:!0}),(n,l)=>{const m=p("el-input"),d=p("el-form-item"),s=p("el-col"),c=p("el-row"),o=p("el-option"),v=p("el-select"),b=p("el-input-number"),f=p("el-switch"),h=p("el-form");return E(),R("div",T,[e(h,{ref_key:"formRef",ref:D,model:t,rules:C,"label-width":"120px"},{default:a(()=>[e(c,{gutter:20},{default:a(()=>[e(s,{span:12},{default:a(()=>[e(d,{label:"服务编码",prop:"serviceCode"},{default:a(()=>[e(m,{modelValue:t.serviceCode,"onUpdate:modelValue":l[0]||(l[0]=i=>t.serviceCode=i),placeholder:"请输入服务编码",onChange:u},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:a(()=>[e(d,{label:"服务名称",prop:"serviceName"},{default:a(()=>[e(m,{modelValue:t.serviceName,"onUpdate:modelValue":l[1]||(l[1]=i=>t.serviceName=i),placeholder:"请输入服务名称",onChange:u},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{gutter:20},{default:a(()=>[e(s,{span:12},{default:a(()=>[e(d,{label:"服务类型",prop:"serviceType"},{default:a(()=>[e(v,{modelValue:t.serviceType,"onUpdate:modelValue":l[2]||(l[2]=i=>t.serviceType=i),placeholder:"请选择服务类型",onChange:u},{default:a(()=>[e(o,{label:"安装服务",value:"installation"}),e(o,{label:"维护服务",value:"maintenance"}),e(o,{label:"培训服务",value:"training"}),e(o,{label:"技术支持",value:"support"}),e(o,{label:"延保服务",value:"warranty"}),e(o,{label:"其他服务",value:"other"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:a(()=>[e(d,{label:"计费方式",prop:"billingMethod"},{default:a(()=>[e(v,{modelValue:t.billingMethod,"onUpdate:modelValue":l[3]||(l[3]=i=>t.billingMethod=i),placeholder:"请选择计费方式",onChange:u},{default:a(()=>[e(o,{label:"一次性收费",value:"onetime"}),e(o,{label:"按次收费",value:"pertime"}),e(o,{label:"按月收费",value:"monthly"}),e(o,{label:"按年收费",value:"yearly"}),e(o,{label:"按工时收费",value:"hourly"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{gutter:20},{default:a(()=>[e(s,{span:12},{default:a(()=>[e(d,{label:"服务时长",prop:"serviceDuration"},{default:a(()=>[e(b,{modelValue:t.serviceDuration,"onUpdate:modelValue":l[4]||(l[4]=i=>t.serviceDuration=i),min:0,step:1,onChange:u},null,8,["modelValue"]),_("span",x,P(U.value),1)]),_:1})]),_:1}),e(s,{span:12},{default:a(()=>[e(d,{label:"时长单位",prop:"durationUnit"},{default:a(()=>[e(v,{modelValue:t.durationUnit,"onUpdate:modelValue":l[5]||(l[5]=i=>t.durationUnit=i),placeholder:"请选择时长单位",onChange:u},{default:a(()=>[e(o,{label:"小时",value:"hour"}),e(o,{label:"天",value:"day"}),e(o,{label:"月",value:"month"}),e(o,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{gutter:20},{default:a(()=>[e(s,{span:12},{default:a(()=>[e(d,{label:"服务价格",prop:"servicePrice"},{default:a(()=>[e(b,{modelValue:t.servicePrice,"onUpdate:modelValue":l[6]||(l[6]=i=>t.servicePrice=i),min:0,precision:2,step:.01,onChange:u},null,8,["modelValue"]),l[12]||(l[12]=_("span",{style:{"margin-left":"8px"}},"元",-1))]),_:1,__:[12]})]),_:1}),e(s,{span:12},{default:a(()=>[e(d,{label:"是否必选",prop:"isRequired"},{default:a(()=>[e(f,{modelValue:t.isRequired,"onUpdate:modelValue":l[7]||(l[7]=i=>t.isRequired=i),"active-value":"1","inactive-value":"0",onChange:u},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{gutter:20},{default:a(()=>[e(s,{span:12},{default:a(()=>[e(d,{label:"默认数量",prop:"defaultQuantity"},{default:a(()=>[e(b,{modelValue:t.defaultQuantity,"onUpdate:modelValue":l[8]||(l[8]=i=>t.defaultQuantity=i),min:0,step:1,onChange:u},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:a(()=>[e(d,{label:"数量可编辑",prop:"isQuantityEditable"},{default:a(()=>[e(f,{modelValue:t.isQuantityEditable,"onUpdate:modelValue":l[9]||(l[9]=i=>t.isQuantityEditable=i),"active-value":"1","inactive-value":"0",onChange:u},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,{label:"服务范围",prop:"serviceScope"},{default:a(()=>[e(m,{modelValue:t.serviceScope,"onUpdate:modelValue":l[10]||(l[10]=i=>t.serviceScope=i),type:"textarea",rows:2,placeholder:"请输入服务范围",onChange:u},null,8,["modelValue"])]),_:1}),e(d,{label:"服务描述",prop:"description"},{default:a(()=>[e(m,{modelValue:t.description,"onUpdate:modelValue":l[11]||(l[11]=i=>t.description=i),type:"textarea",rows:3,placeholder:"请输入服务描述",onChange:u},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},j=Q(k,[["__scopeId","data-v-a48395af"]]);export{j as default};
