const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/attributeGroup-DNxjbwZp.js","static/js/index-a6CENfl-.js","static/css/index-3LLiBenv.css","static/js/product-D8MMQEHj.js"])))=>i.map(i=>d[i]);
import{_ as qt,p as Et,u as Ot,r as u,g as S,B as ze,C as Ae,i as $t,D as Le,E as m,a as g,j as Pe,c as r,o,e as s,b as t,w as i,k as V,m as y,t as N,G as De,f as n,l as Be,v as Ht,q as Me,F as Kt,s as jt,z as Wt,H as be,I as Qt,J as Jt,n as Y}from"./index-a6CENfl-.js";import{l as Zt,b as qe,a as Xt,c as Yt,d as Ee,u as Oe,e as el,g as tl}from"./attributeGroupAttributeValue-BayMywbM.js";import{listAttributeGroup as ll,delAttributeGroup as al,updateAttributeGroup as il,addAttributeGroup as ol}from"./attributeGroup-DNxjbwZp.js";const rl={class:"app-container"},ul={class:"head-container"},nl={class:"title-container"},sl={class:"card-header-content"},dl={class:"tree-node-content"},pl={class:"node-actions"},cl={class:"card-header-content"},ml={class:"card-title"},bl={key:0,class:"attribute-group-name"},vl={class:"button-container"},fl={class:"search-form"},gl={key:0},yl={key:1},_l={key:2},Fl={key:3},Vl={key:4},Cl={key:5},wl={key:6},hl={key:7},kl={key:8},Al={key:0},Dl={key:1},Gl={key:2},Tl={key:3},Ul={key:4},Sl={key:5},xl={key:6},Nl={key:7},Il={key:8},Rl={key:9},zl={key:0},Ll={key:1},Pl={key:0},Bl={key:1},Ml={class:"pagination-container"},ql={class:"dialog-footer"},El={key:0},Ol={key:1},$l={key:2},Hl={key:3},Kl={key:4},jl={key:5},Wl={key:6},Ql={key:7},Jl={key:8},Zl={class:"dialog-footer"},Xl={class:"dialog-footer"},Yl={class:"drawer-content"},ea={class:"drawer-header"},ta={key:1},la={class:"pagination-container"},aa={class:"icon-picker-container"},ia={class:"icon-grid"},oa=["onClick"],ra={class:"icon-name"},ua={class:"dialog-footer"},na={class:"image-icon-container"},sa={key:0,class:"preview-container"},da={class:"selection-methods"},pa={class:"dialog-footer"},ca={__name:"index",setup(ma){const ve=Et(),$e=Ot(),E=u(!1),ee=u(!1),te=u(!0),O=u(0),He=u(ve.query.attributeGroupId||""),$=u(ve.query.catalogId||""),le=u(ve.query.attributeGroupName||""),k=u(He.value),H=u([]),I=u([]),Ke=u(),ae=u(!1),K=u(!1),fe=u(),R=u({}),d=S({attributeGroupAttributeId:"",attributeType:"",componentType:"",defaultValue:"",isRequired:"0",isKeyParam:"0",unit:"",description:"",minValue:null,maxValue:null,step:1,options:"",tooltip:""}),ge=u(!1),ie=u(null),Ge=u(""),oe=u(!1),ye=u([]),_e=u(0),z=u([]),x=S({pageNum:1,pageSize:10}),L=u(!1),j=u(),c=S({id:null,attributeGroupAttributeId:null,valueId:null,valueName:"",isDefault:"0",sortOrder:0,imgUrl:""}),je=S({valueName:[{required:!0,message:"值名称不能为空",trigger:"blur"}]}),P=u(!1),re=u(""),W=u(""),We=u(null),Te=["Plus","PlusFilled","PlusCircle","Minus","MinusFilled","MinusCircle","Edit","EditPen","EditCircle","Delete","DeleteFilled","DeleteDocument","DeleteCircle","Search","SearchFilled","View","ViewFilled","Check","CheckFilled","CheckTag","CheckCircle","CheckCircleFilled","Close","CloseFilled","CloseCircle","CloseCircleFilled","Cancel","CancelFilled","Info","InfoFilled","InfoCircle","InfoCircleFilled","Warning","WarningFilled","WarningCircle","WarningCircleFilled","Error","ErrorFilled","ErrorCircle","ErrorCircleFilled","Success","SuccessFilled","SuccessCircle","SuccessCircleFilled","Question","QuestionFilled","QuestionCircle","QuestionCircleFilled","Home","HomeFilled","Menu","MenuFold","MenuUnfold","ArrowLeft","ArrowLeftBold","ArrowLeftFilled","ArrowRight","ArrowRightBold","ArrowRightFilled","ArrowUp","ArrowUpBold","ArrowUpFilled","ArrowDown","ArrowDownBold","ArrowDownFilled","DoubleLeft","DoubleRight","DoubleUp","DoubleDown","TurnLeft","TurnRight","TurnUp","TurnDown","Top","Bottom","TopFilled","BottomFilled","User","UserFilled","Avatar","UserAdd","UserDelete","UserSearch","Users","UserSettings","ChatDotRound","ChatDotSquare","ChatLineRound","ChatLineSquare","ChatFilled","Comment","CommentFilled","Message","MessageFilled","Bell","BellFilled","Notification","NotificationFilled","Service","Headset","CustomerService","Document","DocumentFilled","DocumentAdd","DocumentEdit","DocumentCopy","DocumentChecked","DocumentDelete","CopyDocument","DeleteDocument","Folder","FolderFilled","FolderOpened","FolderAdd","FolderDelete","Picture","PictureFilled","Video","VideoFilled","VideoPlay","VideoPause","Music","MusicFilled","Camera","CameraFilled","Film","FilmFilled","Collection","CollectionTag","CollectionFilled","Setting","SettingFilled","Tools","ToolsFilled","Brush","BrushFilled","Palette","PaletteFilled","MagicStick","MagicStickFilled","Filter","FilterFilled","Sort","SortFilled","SortUp","SortDown","SortAscending","SortDescending","Refresh","RefreshLeft","RefreshRight","Loading","LoadingFilled","CircleLoading","Switch","SwitchButton","TrendCharts","DataAnalysis","PieChart","PieChartFilled","LineChart","LineChartFilled","BarChart","BarChartFilled","Histogram","HistogramFilled","Ranking","RankingFilled","Money","MoneyFilled","Wallet","WalletFilled","CreditCard","BankCard","Coin","CoinFilled","Discount","DiscountFilled","PriceTag","PriceTagFilled","Upload","UploadFilled","Download","DownloadFilled","Share","ShareFilled","Link","LinkFilled","Paperclip","Attachment","Copy","CopyDocument","Save","SaveFilled","Print","Printer","Clock","ClockFilled","Calendar","CalendarFilled","Date","DateFilled","Time","TimeFilled","Timer","TimerFilled","Location","LocationFilled","MapLocation","MapLocationFilled","Position","PositionFilled","Address","AddressBook","Monitor","Mobile","Tablet","Laptop","Cpu","CpuFilled","MemoryStick","HardDrive","Usb","Keyboard","KeyboardFilled","Mouse","MouseFilled","Earphones","Headset","Microphone","MicrophoneFilled","Speaker","SpeakerFilled","Volume","VolumeFilled","VolumeMute","VolumeMuteFilled","VolumeLow","VolumeLowFilled","VolumeMedium","VolumeMediumFilled","VolumeHigh","VolumeHighFilled","FullScreen","FullScreenExit","Lock","LockFilled","Unlock","UnlockFilled","Key","KeyFilled","Password","Eye","EyeFilled","EyeClosed","EyeClosedFilled","Shield","ShieldFilled","ShieldCheck","ShieldCheckFilled","ShieldWarning","ShieldWarningFilled","CircleLocked","Star","StarFilled","StarHalf","StarHalfFilled","Favorite","FavoriteFilled","Like","LikeFilled","Dislike","DislikeFilled","ThumbsUp","ThumbsUpFilled","ThumbsDown","ThumbsDownFilled","Collect","CollectFilled","History","HistoryFilled","Favorites","FavoritesFilled","Rank","RankFilled","Ticket","TicketFilled","Gift","GiftFilled","Flag","FlagFilled","More","MoreFilled","DArrowRight","DArrowDown","Circle","CircleFilled","Square","SquareFilled","Rectangle","RectangleFilled","Triangle","TriangleFilled","Diamond","DiamondFilled","Odometer","Pointer","Grid","GridFilled","List","ListFilled","Menu","MenuFilled","MenuFold","MenuUnfold","SwitchButton","Switch","Document","DocumentAdd","DocumentCopy","DocumentDelete","DocumentEdit","DocumentChecked","DocumentRemove","DocumentSave","DocumentShare","DocumentView","DocumentZip","Folder","FolderAdd","FolderDelete","FolderOpen","FolderOpened","FolderRemove","FolderView","FolderZip","PaperClip","Attachment","File","FileAdd","FileCopy","FileDelete","FileEdit","FileDone","FileRemove","FileSave","FileShare","FileView","FileZip","Files","Reading","ReadingFilled","Notebook","NotebookFilled","Note","NoteFilled","Tickets","TicketsFilled","Printer","PrinterFilled"],Qe=ze(()=>{let a=Te;return re.value&&(a=Te.filter(e=>e.toLowerCase().includes(re.value.toLowerCase()))),a.filter(e=>Ae[e])}),ue=u(!1),D=u([]),ne=u(""),se=u([]),B=u(!1),_=S({attributeGroupId:null,attributeGroupCode:"",attributeGroupName:"",description:"",sortOrder:0}),Q=u(),Je=S({attributeGroupName:[{required:!0,message:"属性组名称不能为空",trigger:"blur"}]}),Ze={label:"attributeGroupName",children:"children"},de=ze(()=>k.value&&D.value.find(a=>a.attributeGroupId===k.value)||null),C=S({pageNum:1,pageSize:10,attributeCode:"",attributeName:""}),h=S({attributeName:"",attributeType:""}),Fe=u([]),J=u([]);$t(()=>{Ve(),G()});const Ve=async()=>{ue.value=!0;try{let a;$.value?(a=await Le(()=>import("./attributeGroup-DNxjbwZp.js"),__vite__mapDeps([0,1,2])).then(e=>e.listAttributeGroupByCatalog($.value)),D.value=a.data||[]):(a=await ll(),D.value=a.rows||[]),se.value=[...D.value],ue.value=!1,!k.value&&D.value.length>0&&(k.value=D.value[0].attributeGroupId,G())}catch{D.value=[],se.value=[],ue.value=!1,m.error("获取属性组列表失败")}},Xe=()=>{if(!ne.value){se.value=[...D.value];return}const a=ne.value.toLowerCase();se.value=D.value.filter(e=>e.attributeGroupName.toLowerCase().includes(a)||e.attributeGroupCode.toLowerCase().includes(a))},Ye=a=>{k.value=a.attributeGroupId,G()},G=async()=>{if(!k.value){H.value=[],O.value=0,E.value=!1;return}E.value=!0;try{const a=await Zt(k.value);H.value=a.data||[],O.value=a.data?a.data.length:0,E.value=!1}catch{E.value=!1,m.error("获取属性列表失败"),H.value=[],O.value=0}},et=()=>{at(),$.value&&(_.catalogId=$.value),B.value=!0},tt=a=>{Object.assign(_,{attributeGroupId:a.attributeGroupId,attributeGroupCode:a.attributeGroupCode,attributeGroupName:a.attributeGroupName,description:a.description||"",sortOrder:a.sortOrder||0,catalogId:a.catalogId||$.value}),B.value=!0},lt=async a=>{try{await Y.confirm("确定要删除该属性组吗？删除后该属性组下的所有属性关联也会被删除。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await al(a.attributeGroupId),m.success("删除成功"),Ve(),k.value===a.attributeGroupId&&(k.value="",H.value=[],O.value=0)}catch{}},at=()=>{_.attributeGroupId=null,_.attributeGroupCode="",_.attributeGroupName="",_.description="",_.sortOrder=0,Q.value&&Q.value.resetFields()},it=async()=>{Q.value&&await Q.value.validate(async a=>{if(a)try{_.attributeGroupId?(await il(_),m.success("修改成功")):(await ol(_),m.success("新增成功")),B.value=!1,Ve()}catch{m.error("操作失败")}})},pe=()=>{C.pageNum=1,G()},ot=()=>{C.attributeCode="",C.attributeName="",pe()},rt=()=>{te.value=!te.value},ut=a=>{C.pageSize=a,G()},nt=a=>{C.pageNum=a,G()},st=a=>{I.value=a},dt=a=>{},pt=a=>{R.value={...a},Object.assign(d,{attributeGroupAttributeId:a.attributeGroupAttributeId,attributeType:a.attributeType||"",componentType:a.componentType||"",defaultValue:a.defaultValue||"",isRequired:a.isRequired||"0",isKeyParam:a.isKeyParam||"0",unit:a.unit||"",description:a.description||"",minValue:a.minValue!==void 0?a.minValue:null,maxValue:a.maxValue!==void 0?a.maxValue:null,step:a.step||1,options:a.options||"",tooltip:a.tooltip||""}),K.value=!0},ct=()=>{$e.back()},mt=()=>{ae.value=!0,Ce()},Ce=async()=>{ee.value=!0;try{let e=(await Le(()=>import("./product-D8MMQEHj.js"),__vite__mapDeps([3,1,2])).then(F=>F.listAttribute({...h,pageNum:1,pageSize:100}))).rows||[];h.attributeName&&(e=e.filter(F=>F.attributeName&&F.attributeName.includes(h.attributeName))),h.attributeType&&(e=e.filter(F=>F.attributeType===h.attributeType)),Fe.value=e,ee.value=!1}catch{ee.value=!1,m.error("获取属性列表失败"),Fe.value=[]}},bt=()=>{h.attributeName="",h.attributeType="",Ce()},vt=a=>{J.value=a},Ue=()=>{ae.value=!1,J.value=[]},ft=async()=>{if(J.value.length===0){m.warning("请选择要关联的属性");return}try{const a=J.value.map(F=>F.attributeId),e={attributeGroupId:k.value,attributeIds:a};await Xt(e),m.success("关联成功"),Ue(),G()}catch{m.error("关联失败")}},gt=async a=>{try{await Y.confirm("确定要解绑该属性吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=[a.attributeGroupAttributeId];await qe(e),m.success("解绑成功"),G()}catch{}},yt=async()=>{if(I.value.length===0){m.warning("请选择要解绑的属性");return}try{await Y.confirm(`确定要解绑选中的 ${I.value.length} 个属性吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const a=I.value.map(e=>e.attributeGroupAttributeId);await qe(a),m.success("解绑成功"),G(),I.value=[]}catch{}},_t=async()=>{try{const a=R.value.attributeName;if(a&&/["'<]/.test(a)){m.warning(`属性名称不能包含引号("'")或小于号(<)字符`);return}if(fe.value&&await fe.value.validate().catch(()=>(m.warning("请检查表单填写是否正确"),Promise.reject())),d.options&&d.options.trim())try{JSON.parse(d.options.trim())}catch{m.warning("选项配置必须是有效的JSON格式");return}if(d.minValue!==null&&d.maxValue!==null&&d.minValue>d.maxValue){m.warning("最小值不能大于最大值");return}const e={...d};await Yt([e]),m.success("保存成功"),K.value=!1,G()}catch(a){m.error("保存失败："+(a.message||"未知错误"))}},Ft=(a,e)=>{ie.value=a,Ge.value=e||"未知属性",x.pageNum=1,U(),ge.value=!0},Vt=a=>a?/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)$/i.test(a)||a.startsWith("http://")||a.startsWith("https://")||a.startsWith("data:"):!1,Ct=a=>{W.value=a},wt=()=>{W.value&&(c.imgUrl=W.value,W.value="",P.value=!1)},ht=a=>{const e=a.target.files[0];if(!e)return;const F=new FileReader;F.onload=p=>{c.imgUrl=p.target.result},F.readAsDataURL(e),a.target.value=""},U=async()=>{if(ie.value){oe.value=!0;try{const a=await tl(ie.value);ye.value=a.data||[],_e.value=a.data?a.data.length:0,oe.value=!1}catch{m.error("获取属性值列表失败"),ye.value=[],_e.value=0,oe.value=!1}}},kt=a=>{z.value=a},At=()=>{Se(),c.attributeGroupAttributeId=ie.value,L.value=!0},Dt=a=>{Object.assign(c,{id:a.id,attributeGroupAttributeId:a.attributeGroupAttributeId,valueId:a.valueId,valueName:a.valueName,isDefault:a.isDefault||"0",sortOrder:a.sortOrder||0,imgUrl:a.imgUrl||""}),L.value=!0},Gt=async a=>{try{await Y.confirm("确定要删除该属性值吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await Ee(a.id),m.success("删除成功"),U()}catch{}},Tt=async()=>{try{if(z.value.length===0){m.warning("请选择要删除的属性值");return}await Y.confirm(`确定要删除选中的 ${z.value.length} 个属性值吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const a=z.value.map(e=>e.id).join(",");await Ee(a),m.success("删除成功"),U(),z.value=[]}catch{}},Ut=async a=>{try{await Oe({id:a.id,sortOrder:a.sortOrder}),m.success("排序更新成功"),U()}catch{m.error("排序更新失败"),U()}},Se=()=>{c.id=null,c.attributeGroupAttributeId=null,c.valueId=null,c.valueName="",c.isDefault="0",c.sortOrder=0,c.imgUrl="",j.value&&j.value.resetFields()},St=async()=>{j.value&&await j.value.validate(async a=>{if(a)try{c.id?(await Oe(c),m.success("修改成功")):(await el(c),m.success("新增成功")),L.value=!1,U()}catch(e){m.error("操作失败："+(e.message||"未知错误"))}})},xt=()=>{L.value=!1,Se()},Nt=a=>{x.pageSize=a,U()},It=a=>{x.pageNum=a,U()};return(a,e)=>{const F=g("el-page-header"),p=g("el-button"),w=g("el-input"),Rt=g("el-tree"),xe=g("el-card"),Ne=g("el-col"),b=g("el-form-item"),Z=g("el-form"),zt=g("el-collapse-transition"),f=g("el-table-column"),M=g("el-tag"),we=g("el-table"),Ie=g("el-pagination"),Lt=g("el-row"),q=g("el-input-number"),X=g("el-dialog"),v=g("el-option"),he=g("el-select"),Pt=g("el-divider"),ke=g("el-switch"),Re=g("el-image"),Bt=g("el-drawer"),ce=g("el-icon"),T=Pe("hasPermi"),me=Pe("loading");return o(),r("div",rl,[s("div",ul,[s("div",nl,[t(F,{onBack:ct,content:"属性组属性关联管理"+(le.value?" - "+le.value:"")},null,8,["content"])])]),t(Lt,{gutter:20,class:"main-content"},{default:i(()=>[t(Ne,{span:6},{default:i(()=>[t(xe,{shadow:"never",class:"left-panel"},{header:i(()=>[s("div",sl,[e[43]||(e[43]=s("span",{class:"card-title"},"属性组列表",-1)),V((o(),y(p,{type:"primary",size:"small",onClick:et},{default:i(()=>e[42]||(e[42]=[s("i",{class:"el-icon-plus"},null,-1),n(" 新增 ")])),_:1,__:[42]})),[[T,["cpq:attributeGroup:add"]]])])]),default:i(()=>[t(w,{modelValue:ne.value,"onUpdate:modelValue":e[0]||(e[0]=l=>ne.value=l),placeholder:"搜索属性组",clearable:"",size:"small",class:"mb-2",onInput:Xe},null,8,["modelValue"]),V((o(),y(Rt,{data:D.value,props:Ze,"default-expanded-keys":[k.value.value],onNodeClick:Ye,"node-key":"attributeGroupId"},{default:i(({node:l,data:A})=>[s("div",dl,[s("span",null,N(l.label),1),s("div",pl,[V((o(),y(p,{size:"small",type:"primary",text:"",onClick:De(Mt=>tt(A),["stop"]),class:"node-action-btn"},{default:i(()=>e[44]||(e[44]=[s("i",{class:"el-icon-edit"},null,-1),s("span",null,"编辑",-1)])),_:2,__:[44]},1032,["onClick"])),[[T,["cpq:attributeGroup:edit"]]]),V((o(),y(p,{size:"small",type:"danger",text:"",onClick:De(Mt=>lt(A),["stop"]),class:"node-action-btn"},{default:i(()=>e[45]||(e[45]=[s("i",{class:"el-icon-delete"},null,-1),s("span",null,"删除",-1)])),_:2,__:[45]},1032,["onClick"])),[[T,["cpq:attributeGroup:delete"]]])])])]),_:1},8,["data","default-expanded-keys"])),[[me,ue.value]])]),_:1})]),_:1}),t(Ne,{span:18},{default:i(()=>[t(xe,{shadow:"never",class:"right-panel"},{header:i(()=>[s("div",cl,[s("span",ml,[e[46]||(e[46]=n(" 属性列表 ")),de.value?(o(),r("span",bl,"("+N(de.value.attributeGroupName)+")",1)):Me("",!0)]),s("div",vl,[V((o(),y(p,{type:"primary",plain:"",onClick:mt,disabled:!de.value},{default:i(()=>e[47]||(e[47]=[s("i",{class:"el-icon-plus"},null,-1),n(" 关联属性 ")])),_:1,__:[47]},8,["disabled"])),[[T,["cpq:attributeGroupAttribute:add"]]]),V((o(),y(p,{type:"danger",plain:"",onClick:yt,disabled:I.value.length===0||!de.value},{default:i(()=>e[48]||(e[48]=[s("i",{class:"el-icon-delete"},null,-1),n(" 批量解绑 ")])),_:1,__:[48]},8,["disabled"])),[[T,["cpq:attributeGroupAttribute:delete"]]])])])]),default:i(()=>[t(zt,null,{default:i(()=>[V(s("div",fl,[t(Z,{inline:!0,model:C,ref_key:"queryFormRef",ref:Ke,"label-width":"68px"},{default:i(()=>[t(b,{label:"属性编码",prop:"attributeCode"},{default:i(()=>[t(w,{modelValue:C.attributeCode,"onUpdate:modelValue":e[1]||(e[1]=l=>C.attributeCode=l),placeholder:"请输入属性编码",clearable:"",size:"small",style:{width:"200px"},onKeyup:Be(pe,["enter"])},null,8,["modelValue"])]),_:1}),t(b,{label:"属性名称",prop:"attributeName"},{default:i(()=>[t(w,{modelValue:C.attributeName,"onUpdate:modelValue":e[2]||(e[2]=l=>C.attributeName=l),placeholder:"请输入属性名称",clearable:"",size:"small",style:{width:"200px"},onKeyup:Be(pe,["enter"])},null,8,["modelValue"])]),_:1}),t(b,null,{default:i(()=>[t(p,{type:"primary",size:"small",icon:"el-icon-search",onClick:pe},{default:i(()=>e[49]||(e[49]=[n(" 搜索 ")])),_:1,__:[49]}),t(p,{size:"small",icon:"el-icon-refresh",onClick:ot},{default:i(()=>e[50]||(e[50]=[n(" 重置 ")])),_:1,__:[50]}),t(p,{size:"small",onClick:rt},{default:i(()=>[n(N(te.value?"收起":"展开"),1)]),_:1})]),_:1})]),_:1},8,["model"])],512),[[Ht,te.value]])]),_:1}),V((o(),y(we,{data:H.value,onSelectionChange:st,border:"",stripe:"",style:{width:"100%"},onRowClick:dt},{default:i(()=>[t(f,{type:"selection",width:"55",align:"center"}),t(f,{type:"index",label:"#",width:"50",align:"center"}),t(f,{prop:"attributeId",label:"属性ID",width:"100",align:"center"}),t(f,{label:"属性编码",prop:"attribute.attributeCode","min-width":"120"}),t(f,{label:"属性名称",prop:"attribute.attributeName","min-width":"150"}),t(f,{label:"属性类型",prop:"attributeType",width:"100",align:"center"},{default:i(l=>[l.row.attributeType==="text"?(o(),r("span",gl,"文本")):l.row.attributeType==="number"?(o(),r("span",yl,"数字")):l.row.attributeType==="select"?(o(),r("span",_l,"下拉选择")):l.row.attributeType==="radio"?(o(),r("span",Fl,"单选按钮组")):l.row.attributeType==="checkbox"?(o(),r("span",Vl,"复选框组")):l.row.attributeType==="date"?(o(),r("span",Cl,"日期时间")):l.row.attributeType==="file"?(o(),r("span",wl,"文件上传")):l.row.attributeType==="image"?(o(),r("span",hl,"图片上传")):(o(),r("span",kl,N(l.row.attributeType),1))]),_:1}),t(f,{label:"组件类型",prop:"componentType",width:"100",align:"center"},{default:i(l=>[l.row.componentType==="radio"?(o(),r("span",Al,"单选框")):l.row.componentType==="checkbox"?(o(),r("span",Dl,"复选框")):l.row.componentType==="select_single"?(o(),r("span",Gl,"下拉单选")):l.row.componentType==="select_multi"?(o(),r("span",Tl,"下拉多选")):l.row.componentType==="slider"?(o(),r("span",Ul,"滑块")):l.row.componentType==="input"?(o(),r("span",Sl,"单行文本")):l.row.componentType==="textarea"?(o(),r("span",xl,"多行文本")):l.row.componentType==="number"?(o(),r("span",Nl,"数字输入框")):l.row.componentType==="switch"?(o(),r("span",Il,"开关")):(o(),r("span",Rl,N(l.row.componentType||"-"),1))]),_:1}),t(f,{label:"是否必选",prop:"isRequired",width:"80",align:"center"},{default:i(l=>[l.row.isRequired==="1"?(o(),r("span",zl,[t(M,{type:"success"},{default:i(()=>e[51]||(e[51]=[n("是")])),_:1,__:[51]})])):(o(),r("span",Ll,[t(M,{type:"info"},{default:i(()=>e[52]||(e[52]=[n("否")])),_:1,__:[52]})]))]),_:1}),t(f,{label:"是否关键参数",prop:"isKeyParam",width:"100",align:"center"},{default:i(l=>[l.row.isKeyParam==="1"?(o(),r("span",Pl,[t(M,{type:"danger"},{default:i(()=>e[53]||(e[53]=[n("是")])),_:1,__:[53]})])):(o(),r("span",Bl,[t(M,{type:"info"},{default:i(()=>e[54]||(e[54]=[n("否")])),_:1,__:[54]})]))]),_:1}),t(f,{label:"计量单位",prop:"unit",width:"100",align:"center"}),t(f,{label:"操作",width:"180",fixed:"right",align:"center"},{default:i(l=>[t(p,{type:"primary",size:"small",onClick:A=>pt(l.row)},{default:i(()=>e[55]||(e[55]=[n("配置")])),_:2,__:[55]},1032,["onClick"]),t(p,{type:"success",size:"small",onClick:A=>Ft(l.row.attributeGroupAttributeId,l.row.attribute&&l.row.attribute.attributeName)},{default:i(()=>e[56]||(e[56]=[n("属性值")])),_:2,__:[56]},1032,["onClick"]),V((o(),y(p,{type:"danger",size:"small",onClick:A=>gt(l.row)},{default:i(()=>e[57]||(e[57]=[n("解绑")])),_:2,__:[57]},1032,["onClick"])),[[T,["cpq:attributeGroupAttribute:delete"]]])]),_:1})]),_:1},8,["data"])),[[me,E.value]]),s("div",Ml,[t(Ie,{"current-page":C.pageNum,"onUpdate:currentPage":e[3]||(e[3]=l=>C.pageNum=l),"page-size":C.pageSize,"onUpdate:pageSize":e[4]||(e[4]=l=>C.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:O.value,onSizeChange:ut,onCurrentChange:nt},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})]),_:1}),t(X,{modelValue:B.value,"onUpdate:modelValue":e[9]||(e[9]=l=>B.value=l),title:_.attributeGroupId?"修改属性组":"新增属性组",width:"500px","append-to-body":""},{footer:i(()=>[s("span",ql,[t(p,{onClick:e[8]||(e[8]=l=>B.value=!1)},{default:i(()=>e[58]||(e[58]=[n("取消")])),_:1,__:[58]}),t(p,{type:"primary",onClick:it},{default:i(()=>e[59]||(e[59]=[n("确定")])),_:1,__:[59]})])]),default:i(()=>[t(Z,{ref_key:"attributeGroupFormRef",ref:Q,model:_,rules:Je,"label-width":"100px"},{default:i(()=>[t(b,{label:"属性组名称",prop:"attributeGroupName"},{default:i(()=>[t(w,{modelValue:_.attributeGroupName,"onUpdate:modelValue":e[5]||(e[5]=l=>_.attributeGroupName=l),placeholder:"请输入属性组名称"},null,8,["modelValue"])]),_:1}),t(b,{label:"描述"},{default:i(()=>[t(w,{modelValue:_.description,"onUpdate:modelValue":e[6]||(e[6]=l=>_.description=l),type:"textarea",rows:3,placeholder:"请输入描述"},null,8,["modelValue"])]),_:1}),t(b,{label:"排序"},{default:i(()=>[t(q,{modelValue:_.sortOrder,"onUpdate:modelValue":e[7]||(e[7]=l=>_.sortOrder=l),min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),t(X,{modelValue:ae.value,"onUpdate:modelValue":e[12]||(e[12]=l=>ae.value=l),title:`关联属性${le.value?" - "+le.value:""}`,width:"700px","append-to-body":""},{footer:i(()=>[s("span",Zl,[t(p,{onClick:Ue},{default:i(()=>e[62]||(e[62]=[n("取消")])),_:1,__:[62]}),t(p,{type:"primary",disabled:J.value.length===0,onClick:ft},{default:i(()=>e[63]||(e[63]=[n(" 确定关联 ")])),_:1,__:[63]},8,["disabled"])])]),default:i(()=>[t(Z,{inline:!0,model:h,class:"mb-4"},{default:i(()=>[t(b,{label:"属性名称"},{default:i(()=>[t(w,{modelValue:h.attributeName,"onUpdate:modelValue":e[10]||(e[10]=l=>h.attributeName=l),placeholder:"请输入属性名称",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(b,{label:"属性类型"},{default:i(()=>[t(he,{modelValue:h.attributeType,"onUpdate:modelValue":e[11]||(e[11]=l=>h.attributeType=l),placeholder:"请选择属性类型",clearable:"",style:{width:"120px"}},{default:i(()=>[t(v,{label:"文本",value:"text"}),t(v,{label:"数字",value:"number"}),t(v,{label:"下拉选择",value:"select"}),t(v,{label:"单选按钮组",value:"radio"}),t(v,{label:"复选框组",value:"checkbox"}),t(v,{label:"日期时间",value:"date"}),t(v,{label:"文件上传",value:"file"}),t(v,{label:"图片上传",value:"image"})]),_:1},8,["modelValue"])]),_:1}),t(b,null,{default:i(()=>[t(p,{type:"primary",onClick:Ce},{default:i(()=>e[60]||(e[60]=[n("搜索")])),_:1,__:[60]}),t(p,{onClick:bt},{default:i(()=>e[61]||(e[61]=[n("重置")])),_:1,__:[61]})]),_:1})]),_:1},8,["model"]),V((o(),y(we,{data:Fe.value,onSelectionChange:vt,border:"",stripe:"",style:{width:"100%"}},{default:i(()=>[t(f,{type:"selection",width:"55",align:"center"}),t(f,{label:"属性编码",prop:"attributeCode","min-width":"120"}),t(f,{label:"属性名称",prop:"attributeName","min-width":"150"}),t(f,{label:"属性类型",prop:"attributeType",width:"100",align:"center"},{default:i(l=>[l.row.attributeType==="text"?(o(),r("span",El,"文本")):l.row.attributeType==="number"?(o(),r("span",Ol,"数字")):l.row.attributeType==="select"?(o(),r("span",$l,"下拉选择")):l.row.attributeType==="radio"?(o(),r("span",Hl,"单选按钮组")):l.row.attributeType==="checkbox"?(o(),r("span",Kl,"复选框组")):l.row.attributeType==="date"?(o(),r("span",jl,"日期时间")):l.row.attributeType==="file"?(o(),r("span",Wl,"文件上传")):l.row.attributeType==="image"?(o(),r("span",Ql,"图片上传")):(o(),r("span",Jl,N(l.row.attributeType),1))]),_:1}),t(f,{label:"组件类型",prop:"componentType",width:"100",align:"center"})]),_:1},8,["data"])),[[me,ee.value]])]),_:1},8,["modelValue","title"]),t(X,{modelValue:K.value,"onUpdate:modelValue":e[27]||(e[27]=l=>K.value=l),title:"属性配置",width:"500px",top:"15vh","destroy-on-close":"",center:""},{footer:i(()=>[s("span",Xl,[t(p,{onClick:e[26]||(e[26]=l=>K.value=!1)},{default:i(()=>e[65]||(e[65]=[n("取消")])),_:1,__:[65]}),t(p,{type:"primary",onClick:_t},{default:i(()=>e[66]||(e[66]=[n("保存")])),_:1,__:[66]})])]),default:i(()=>[t(Z,{ref_key:"configFormRef",ref:fe,model:d,"label-width":"100px"},{default:i(()=>[t(b,{label:"属性编码"},{default:i(()=>[t(w,{modelValue:R.value.attribute.attributeCode,"onUpdate:modelValue":e[13]||(e[13]=l=>R.value.attribute.attributeCode=l),disabled:""},null,8,["modelValue"])]),_:1}),t(b,{label:"属性名称"},{default:i(()=>[t(w,{modelValue:R.value.attribute.attributeName,"onUpdate:modelValue":e[14]||(e[14]=l=>R.value.attribute.attributeName=l),disabled:""},null,8,["modelValue"])]),_:1}),t(b,{label:"属性类型"},{default:i(()=>[t(he,{modelValue:d.attributeType,"onUpdate:modelValue":e[15]||(e[15]=l=>d.attributeType=l),placeholder:"请选择属性类型"},{default:i(()=>[t(v,{label:"文本",value:"text"}),t(v,{label:"数字",value:"number"}),t(v,{label:"下拉选择",value:"select"}),t(v,{label:"单选按钮组",value:"radio"}),t(v,{label:"复选框组",value:"checkbox"}),t(v,{label:"日期时间",value:"date"}),t(v,{label:"文件上传",value:"file"}),t(v,{label:"图片上传",value:"image"})]),_:1},8,["modelValue"])]),_:1}),t(Pt,null,{default:i(()=>e[64]||(e[64]=[n("属性配置")])),_:1,__:[64]}),t(b,{label:"组件类型"},{default:i(()=>[t(he,{modelValue:d.componentType,"onUpdate:modelValue":e[16]||(e[16]=l=>d.componentType=l),placeholder:"请选择组件类型"},{default:i(()=>[t(v,{label:"单选框",value:"radio"}),t(v,{label:"复选框",value:"checkbox"}),t(v,{label:"下拉单选",value:"select_single"}),t(v,{label:"下拉多选",value:"select_multi"}),t(v,{label:"滑块",value:"slider"}),t(v,{label:"单行文本",value:"input"}),t(v,{label:"多行文本",value:"textarea"}),t(v,{label:"数字输入框",value:"number"}),t(v,{label:"开关",value:"switch"})]),_:1},8,["modelValue"])]),_:1}),t(b,{label:"默认值"},{default:i(()=>[t(w,{modelValue:d.defaultValue,"onUpdate:modelValue":e[17]||(e[17]=l=>d.defaultValue=l),placeholder:"请输入默认值"},null,8,["modelValue"])]),_:1}),t(b,{label:"是否必选"},{default:i(()=>[t(ke,{modelValue:d.isRequired,"onUpdate:modelValue":e[18]||(e[18]=l=>d.isRequired=l),"active-value":"1","inactive-value":"0","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),t(b,{label:"是否关键参数"},{default:i(()=>[t(ke,{modelValue:d.isKeyParam,"onUpdate:modelValue":e[19]||(e[19]=l=>d.isKeyParam=l),"active-value":"1","inactive-value":"0","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),t(b,{label:"计量单位"},{default:i(()=>[t(w,{modelValue:d.unit,"onUpdate:modelValue":e[20]||(e[20]=l=>d.unit=l),placeholder:"请输入计量单位"},null,8,["modelValue"])]),_:1}),t(b,{label:"说明"},{default:i(()=>[t(w,{modelValue:d.description,"onUpdate:modelValue":e[21]||(e[21]=l=>d.description=l),type:"textarea",rows:3,placeholder:"请输入说明文本"},null,8,["modelValue"])]),_:1}),t(b,{label:"最小值"},{default:i(()=>[t(q,{modelValue:d.minValue,"onUpdate:modelValue":e[22]||(e[22]=l=>d.minValue=l),step:.1},null,8,["modelValue"])]),_:1}),t(b,{label:"最大值"},{default:i(()=>[t(q,{modelValue:d.maxValue,"onUpdate:modelValue":e[23]||(e[23]=l=>d.maxValue=l),step:.1},null,8,["modelValue"])]),_:1}),t(b,{label:"步进值"},{default:i(()=>[t(q,{modelValue:d.step,"onUpdate:modelValue":e[24]||(e[24]=l=>d.step=l),step:.1,min:.01},null,8,["modelValue"])]),_:1}),t(b,{label:"提示文本"},{default:i(()=>[t(w,{modelValue:d.tooltip,"onUpdate:modelValue":e[25]||(e[25]=l=>d.tooltip=l),placeholder:"请输入提示文本"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(Bt,{modelValue:ge.value,"onUpdate:modelValue":e[30]||(e[30]=l=>ge.value=l),title:"属性值管理 - "+Ge.value,direction:"rtl",size:"40%","close-on-click-modal":!1,"close-on-press-escape":!1},{default:i(()=>[s("div",Yl,[s("div",ea,[V((o(),y(p,{type:"primary",size:"small",onClick:At},{default:i(()=>e[67]||(e[67]=[s("i",{class:"el-icon-plus"},null,-1),n(" 新增属性值 ")])),_:1,__:[67]})),[[T,["cpq:attributeGroupAttributeValue:add"]]]),V((o(),y(p,{type:"danger",size:"small",onClick:Tt,disabled:z.value.length===0},{default:i(()=>e[68]||(e[68]=[s("i",{class:"el-icon-delete"},null,-1),n(" 批量删除 ")])),_:1,__:[68]},8,["disabled"])),[[T,["cpq:attributeGroupAttributeValue:delete"]]])]),V((o(),y(we,{data:ye.value,onSelectionChange:kt,border:"",stripe:"",style:{width:"100%"}},{default:i(()=>[t(f,{type:"selection",width:"55",align:"center"}),t(f,{type:"index",label:"#",width:"50",align:"center"}),t(f,{prop:"valueName",label:"值名称","min-width":"120"}),t(f,{prop:"isDefault",label:"是否默认",width:"100",align:"center"},{default:i(l=>[l.row.isDefault==="1"?(o(),y(M,{key:0,type:"success"},{default:i(()=>e[69]||(e[69]=[n("是")])),_:1,__:[69]})):(o(),y(M,{key:1,type:"info"},{default:i(()=>e[70]||(e[70]=[n("否")])),_:1,__:[70]}))]),_:1}),t(f,{prop:"sortOrder",label:"排序",width:"80",align:"center"},{default:i(l=>[t(q,{modelValue:l.row.sortOrder,"onUpdate:modelValue":A=>l.row.sortOrder=A,min:0,onChange:A=>Ut(l.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(f,{prop:"imgUrl",label:"图片",width:"100",align:"center"},{default:i(l=>[l.row.imgUrl?(o(),y(Re,{key:0,src:l.row.imgUrl,"preview-src-list":[l.row.imgUrl],style:{width:"40px",height:"40px","object-fit":"cover"}},null,8,["src","preview-src-list"])):(o(),r("span",ta,"无"))]),_:1}),t(f,{label:"操作",width:"120",align:"center"},{default:i(l=>[V((o(),y(p,{type:"primary",size:"small",onClick:A=>Dt(l.row)},{default:i(()=>e[71]||(e[71]=[n("编辑")])),_:2,__:[71]},1032,["onClick"])),[[T,["cpq:attributeGroupAttributeValue:edit"]]]),V((o(),y(p,{type:"danger",size:"small",onClick:A=>Gt(l.row)},{default:i(()=>e[72]||(e[72]=[n("删除")])),_:2,__:[72]},1032,["onClick"])),[[T,["cpq:attributeGroupAttributeValue:delete"]]])]),_:1})]),_:1},8,["data"])),[[me,oe.value]]),s("div",la,[t(Ie,{"current-page":x.pageNum,"onUpdate:currentPage":e[28]||(e[28]=l=>x.pageNum=l),"page-size":x.pageSize,"onUpdate:pageSize":e[29]||(e[29]=l=>x.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:_e.value,onSizeChange:Nt,onCurrentChange:It},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue","title"]),t(X,{modelValue:L.value,"onUpdate:modelValue":e[41]||(e[41]=l=>L.value=l),title:c.id?"修改属性值":"新增属性值",width:"500px","append-to-body":""},{footer:i(()=>[s("span",pa,[t(p,{onClick:xt},{default:i(()=>e[78]||(e[78]=[n("取消")])),_:1,__:[78]}),t(p,{type:"primary",onClick:St},{default:i(()=>e[79]||(e[79]=[n("确定")])),_:1,__:[79]})])]),default:i(()=>[t(X,{modelValue:P.value,"onUpdate:modelValue":e[33]||(e[33]=l=>P.value=l),title:"选择图标",width:"700px","append-to-body":""},{footer:i(()=>[s("span",ua,[t(p,{onClick:e[32]||(e[32]=l=>P.value=!1)},{default:i(()=>e[73]||(e[73]=[n("取消")])),_:1,__:[73]}),t(p,{type:"primary",onClick:wt},{default:i(()=>e[74]||(e[74]=[n("确定")])),_:1,__:[74]})])]),default:i(()=>[s("div",aa,[t(w,{modelValue:re.value,"onUpdate:modelValue":e[31]||(e[31]=l=>re.value=l),placeholder:"搜索图标",clearable:"",size:"small",class:"mb-4"},null,8,["modelValue"]),s("div",ia,[(o(!0),r(Kt,null,jt(Qe.value,l=>(o(),r("div",{key:l,class:Wt(["icon-item",{selected:W.value===l}]),onClick:A=>Ct(l)},[t(ce,{class:"icon-preview"},{default:i(()=>[(o(),y(be(Ae[l])))]),_:2},1024),s("span",ra,N(l),1)],10,oa))),128))])])]),_:1},8,["modelValue"]),t(Z,{ref_key:"attributeValueFormRef",ref:j,model:c,rules:je,"label-width":"100px"},{default:i(()=>[t(b,{label:"值名称",prop:"valueName"},{default:i(()=>[t(w,{modelValue:c.valueName,"onUpdate:modelValue":e[34]||(e[34]=l=>c.valueName=l),placeholder:"请输入值名称"},null,8,["modelValue"])]),_:1}),t(b,{label:"是否默认值"},{default:i(()=>[t(ke,{modelValue:c.isDefault,"onUpdate:modelValue":e[35]||(e[35]=l=>c.isDefault=l),"active-value":"1","inactive-value":"0","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),t(b,{label:"排序"},{default:i(()=>[t(q,{modelValue:c.sortOrder,"onUpdate:modelValue":e[36]||(e[36]=l=>c.sortOrder=l),min:0},null,8,["modelValue"])]),_:1}),t(b,{label:"图片/图标"},{default:i(()=>[s("div",na,[c.imgUrl?(o(),r("div",sa,[Vt(c.imgUrl)?(o(),y(Re,{key:0,src:c.imgUrl,"preview-src-list":[c.imgUrl],style:{width:"60px",height:"60px","object-fit":"cover",cursor:"pointer"}},null,8,["src","preview-src-list"])):(o(),y(ce,{key:1,style:{"font-size":"40px",cursor:"pointer"},onClick:e[37]||(e[37]=l=>P.value=!0)},{default:i(()=>[(o(),y(be(Ae[c.imgUrl])))]),_:1})),t(p,{type:"danger",size:"mini",onClick:e[38]||(e[38]=De(l=>c.imgUrl="",["stop"])),class:"clear-btn"},{default:i(()=>e[75]||(e[75]=[n(" 清除 ")])),_:1,__:[75]})])):Me("",!0),s("div",da,[t(p,{type:"primary",size:"small",onClick:e[39]||(e[39]=l=>P.value=!0),class:"method-btn"},{default:i(()=>[t(ce,null,{default:i(()=>[(o(),y(be(Qt)))]),_:1}),e[76]||(e[76]=n(" 选择图标 "))]),_:1,__:[76]}),t(p,{type:"success",size:"small",onClick:e[40]||(e[40]=l=>a.$refs.uploadRef.click()),class:"method-btn"},{default:i(()=>[t(ce,null,{default:i(()=>[(o(),y(be(Jt)))]),_:1}),e[77]||(e[77]=n(" 上传图片 "))]),_:1,__:[77]}),s("input",{ref_key:"uploadRef",ref:We,type:"file",accept:"image/*",style:{display:"none"},onChange:ht},null,544)])])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}},ga=qt(ca,[["__scopeId","data-v-ebafca24"]]);export{ga as default};
