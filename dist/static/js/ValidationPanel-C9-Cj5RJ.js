import{_ as E,a,c as r,o,m as b,k as B,b as e,w as t,f as d,l as m,ab as R,e as i,F,n as $,a7 as A,t as p,bb as P,E as D}from"./index-DgigFOm-.js";const I={class:"validation-panel"},L={key:0,class:"success-state"},M={key:1,class:"error-state"},S={class:"errors-list"},T={class:"error-header"},j={class:"error-title"},q={class:"error-content"},G={class:"error-message"},H={key:2,class:"empty-state"},J={key:1,style:{color:"#67c23a"}},K={__name:"ValidationPanel",props:{validationResults:{type:Array,default:()=>[]},errors:{type:Array,default:()=>[]}},emits:["fix-error"],setup(n,{emit:g}){const k=g,f=y=>{k("fix-error",y)},x=()=>{D.success("配置导出功能开发中")};return(y,s)=>{const _=a("el-icon"),u=a("el-button"),w=a("el-result"),C=a("el-alert"),h=a("el-tag"),N=a("el-empty"),c=a("el-table-column"),V=a("el-table"),z=a("el-card");return o(),r("div",I,[n.errors.length===0&&n.validationResults.length>0?(o(),r("div",L,[e(w,{icon:"success",title:"验证通过","sub-title":"所有配置均符合规则要求"},{icon:t(()=>[e(_,{size:80,color:"#67c23a"},{default:t(()=>[e(m(R))]),_:1})]),extra:t(()=>[e(u,{type:"success",onClick:x},{default:t(()=>s[0]||(s[0]=[d("导出配置")])),_:1,__:[0]})]),_:1})])):n.errors.length>0?(o(),r("div",M,[e(C,{title:"配置验证失败",type:"error",description:`发现 ${n.errors.length} 个配置错误，请及时修复`,"show-icon":"",closable:!1},null,8,["description"]),i("div",S,[(o(!0),r(F,null,$(n.errors,(l,v)=>(o(),r("div",{key:v,class:"error-item"},[i("div",T,[e(_,{size:20,color:"#f56c6c"},{default:t(()=>[e(m(A))]),_:1}),i("span",j,p(l.ruleName),1),e(h,{type:"danger",size:"small"},{default:t(()=>s[1]||(s[1]=[d("错误")])),_:1,__:[1]})]),i("div",q,[i("p",G,p(l.message),1),e(u,{type:"primary",size:"small",text:"",onClick:O=>f(l)},{default:t(()=>[e(_,null,{default:t(()=>[e(m(P))]),_:1}),s[2]||(s[2]=d(" 立即修复 "))]),_:2,__:[2]},1032,["onClick"])])]))),128))])])):(o(),r("div",H,[e(N,{description:"暂无验证结果，请先配置节点"})])),n.validationResults.length>0?(o(),b(z,{key:3,class:"validation-details",shadow:"never"},{header:t(()=>s[3]||(s[3]=[i("span",null,"规则验证详情",-1)])),default:t(()=>[e(V,{data:n.validationResults,border:""},{default:t(()=>[e(c,{type:"index",label:"序号",width:"60"}),e(c,{prop:"ruleName",label:"规则名称","min-width":"200"}),e(c,{label:"验证状态",width:"100",align:"center"},{default:t(({row:l})=>[e(h,{type:l.passed?"success":"danger"},{default:t(()=>[d(p(l.passed?"通过":"失败"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"message",label:"说明","min-width":"200"}),e(c,{label:"操作",width:"100",align:"center"},{default:t(({row:l})=>[l.passed?(o(),r("span",J,"-")):(o(),b(u,{key:0,type:"text",size:"small",onClick:v=>f(l)},{default:t(()=>s[4]||(s[4]=[d(" 修复 ")])),_:2,__:[4]},1032,["onClick"]))]),_:1})]),_:1},8,["data"])]),_:1})):B("",!0)])}}},U=E(K,[["__scopeId","data-v-08265c20"]]);export{U as default};
