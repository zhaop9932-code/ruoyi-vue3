import{_ as O,r as f,h as q,a as r,i as U,c,o as l,e as t,b as s,w as n,f as d,l as _,L as G,j as R,m as x,k as V,F as D,n as N,ag as M,t as i,ah as H,x as $,O as J,ai as K,E}from"./index-DgigFOm-.js";const Q={class:"recommend-panel"},W={class:"panel-header"},X={class:"recommendations-list"},Y=["onClick"],Z={class:"item-header"},ee={class:"item-title"},te={class:"item-content"},se={class:"item-desc"},oe={class:"item-stats"},ne={class:"item-footer"},ae={class:"item-price"},le={class:"recommendations-list"},ie=["onClick"],ce={class:"item-header"},de={class:"item-title"},re={class:"item-content"},_e={class:"item-desc"},ue={class:"item-match"},me={class:"item-footer"},pe={class:"item-price"},fe={class:"recommendations-list"},ve=["onClick"],he={class:"item-header"},ge={class:"item-title"},ye={class:"item-content"},ke={class:"item-desc"},Ce={class:"item-footer"},be={class:"item-price"},ze={__name:"RecommendPanel",props:{bomId:{type:[String,Number],required:!0},currentConfig:{type:Object,default:()=>({})}},emits:["apply-recommend"],setup(Pe,{emit:L}){const S=L,u=f(!1),B=f("popular"),h=f([]),g=f([]),y=f([]),j=a=>a>=80?"#67c23a":a>=60?"#e6a23c":"#f56c6c",A=a=>a?new Date(a).toLocaleDateString("zh-CN"):"",T=async()=>{u.value=!0;try{await new Promise(a=>setTimeout(a,1e3)),h.value=[{id:1,title:"高性能服务器配置",description:"适用于企业级应用，高并发场景",usageCount:1205,rating:4.8,estimatedPrice:15800},{id:2,title:"标准商用配置",description:"性价比高，适合中小型企业",usageCount:856,rating:4.6,estimatedPrice:8900}],g.value=[{id:3,title:"定制化方案A",description:"根据您的使用习惯推荐",matchRate:92,estimatedPrice:12500},{id:4,title:"定制化方案B",description:"性能与成本的最佳平衡",matchRate:85,estimatedPrice:10200}],y.value=[{id:5,title:"2024-01-03 的配置",description:"包含8个节点的完整配置",totalPrice:13600,createdTime:"2024-01-03"}]}catch(a){console.error("加载推荐失败:",a),E.error("加载推荐失败")}finally{u.value=!1}},k=a=>{console.log("选择推荐:",a)},C=a=>{S("apply-recommend",a.configuration||{}),E.success("方案应用成功")};return q(()=>{T()}),(a,o)=>{const v=r("el-button"),m=r("el-icon"),b=r("el-tag"),z=r("el-empty"),P=r("el-tab-pane"),F=r("el-progress"),I=r("el-tabs"),w=U("loading");return l(),c("div",Q,[t("div",W,[o[2]||(o[2]=t("h3",null,"智能推荐",-1)),s(v,{type:"primary",size:"small",icon:_(G),onClick:T},{default:n(()=>o[1]||(o[1]=[d(" 刷新推荐 ")])),_:1,__:[1]},8,["icon"])]),s(I,{modelValue:B.value,"onUpdate:modelValue":o[0]||(o[0]=e=>B.value=e),class:"recommend-tabs"},{default:n(()=>[s(P,{label:"热门方案",name:"popular"},{default:n(()=>[R((l(),c("div",X,[(l(!0),c(D,null,N(h.value,e=>(l(),c("div",{key:e.id,class:"recommend-item",onClick:p=>k(e)},[t("div",Z,[s(m,{size:20,color:"#409eff"},{default:n(()=>[s(_(M))]),_:1}),t("span",ee,i(e.title),1),s(b,{size:"small",type:"warning"},{default:n(()=>o[3]||(o[3]=[d("热门")])),_:1,__:[3]})]),t("div",te,[t("p",se,i(e.description),1),t("div",oe,[t("span",null,[s(m,null,{default:n(()=>[s(_(H))]),_:1}),d(" "+i(e.usageCount)+" 人使用",1)]),t("span",null,[s(m,null,{default:n(()=>[s(_(M))]),_:1}),d(" "+i(e.rating)+" 分",1)])])]),t("div",ne,[t("span",ae,"¥"+i(e.estimatedPrice),1),s(v,{type:"primary",size:"small",onClick:$(p=>C(e),["stop"])},{default:n(()=>o[4]||(o[4]=[d(" 应用方案 ")])),_:2,__:[4]},1032,["onClick"])])],8,Y))),128)),h.value.length===0?(l(),x(z,{key:0,description:"暂无推荐方案"})):V("",!0)])),[[w,u.value]])]),_:1}),s(P,{label:"个性化推荐",name:"personalized"},{default:n(()=>[R((l(),c("div",le,[(l(!0),c(D,null,N(g.value,e=>(l(),c("div",{key:e.id,class:"recommend-item",onClick:p=>k(e)},[t("div",ce,[s(m,{size:20,color:"#67c23a"},{default:n(()=>[s(_(J))]),_:1}),t("span",de,i(e.title),1),s(b,{size:"small",type:"success"},{default:n(()=>o[5]||(o[5]=[d("为你推荐")])),_:1,__:[5]})]),t("div",re,[t("p",_e,i(e.description),1),t("div",ue,[o[6]||(o[6]=t("span",null,"匹配度:",-1)),s(F,{percentage:e.matchRate,color:j(e.matchRate),"show-text":!0,style:{width:"120px"}},null,8,["percentage","color"])])]),t("div",me,[t("span",pe,"¥"+i(e.estimatedPrice),1),s(v,{type:"success",size:"small",onClick:$(p=>C(e),["stop"])},{default:n(()=>o[7]||(o[7]=[d(" 应用方案 ")])),_:2,__:[7]},1032,["onClick"])])],8,ie))),128)),g.value.length===0?(l(),x(z,{key:0,description:"暂无个性化推荐"})):V("",!0)])),[[w,u.value]])]),_:1}),s(P,{label:"历史配置",name:"history"},{default:n(()=>[R((l(),c("div",fe,[(l(!0),c(D,null,N(y.value,e=>(l(),c("div",{key:e.id,class:"recommend-item",onClick:p=>k(e)},[t("div",he,[s(m,{size:20,color:"#909399"},{default:n(()=>[s(_(K))]),_:1}),t("span",ge,i(e.title),1),s(b,{size:"small",type:"info"},{default:n(()=>[d(i(A(e.createdTime)),1)]),_:2},1024)]),t("div",ye,[t("p",ke,i(e.description),1)]),t("div",Ce,[t("span",be,"¥"+i(e.totalPrice),1),s(v,{type:"info",size:"small",plain:"",onClick:$(p=>C(e),["stop"])},{default:n(()=>o[8]||(o[8]=[d(" 加载配置 ")])),_:2,__:[8]},1032,["onClick"])])],8,ve))),128)),y.value.length===0?(l(),x(z,{key:0,description:"暂无历史配置"})):V("",!0)])),[[w,u.value]])]),_:1})]),_:1},8,["modelValue"])])}}},Re=O(ze,[["__scopeId","data-v-0f265a0d"]]);export{Re as default};
